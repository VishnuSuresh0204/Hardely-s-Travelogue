{% extends 'commonpage.html' %}
{% load static %}
{% block content %}

<script>
    function validateForm() {
        var dobInput = document.getElementById('dob');
        var dob = new Date(dobInput.value);
        var currentDate = new Date();

        var ageDiff = currentDate.getFullYear() - dob.getFullYear();
        var isOver18 = (ageDiff > 18) || (ageDiff === 18 && currentDate.getMonth() > dob.getMonth()) || (ageDiff === 18 && currentDate.getMonth() === dob.getMonth() && currentDate.getDate() >= dob.getDate());

        if (!isOver18) {
            alert("You must be over 18 years old.");
            return false; // Prevent form submission
        }

        return true; // Allow form submission
    }
</script>
<form method="post" onsubmit="return validateForm();">
    {% csrf_token %}

    <section class="contact py-lg-5">
        <div class="container py-5">
            <div class="title-section pb-sm-5 pb-3">
                <h2 class="heading-agileinfo text-center pb-4">registration<span>form</span></h2>
            </div>
            <div class="inner-sec-w3layouts-agileinfo">
                <div class="contact_grid_right mt-5">
                    <div class="contact_left_grid">
                        <input type="text" name="username" id="username" placeholder="username" required="">
                        <input type="email" name="email" id="email" placeholder="email id" required=""
                            pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$">

                        <input type="password" name="password" id="password" placeholder="password" required=""
                            pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$"
                            title="Password must be at least 8 characters long and contain at least one lowercase letter, one uppercase letter, one digit, and one special character.">

                        <input type="text" name="ridername" id="ridername" placeholder="Rider name" required=""
                            pattern="[a-zA-Z ]+">
                        <input type="tel" name="phonenumber" placeholder="phone number" maxlength="10"
                            pattern="[6-9][0-9]{9}" required="">
                        {% comment %} <input type="text" name="gender" id="gender" placeholder="gender" required="">p[y
                        ] {% endcomment %}
                        <input type="date" name="DOB" id="dob" placeholder="Date of Birth" required="">
                        <input type="text" name="address" id="address" placeholder="Place" required="">
                        <input type="submit" value="Register">
                        {% comment %} <input type="reset" value="Clear"> {% endcomment %}
                    </div>
                </div>
            </div>
        </div>
        </div>
        </div>
</form>
{% endblock %}